//** SCREEN STYLES **//

// Imports --------------------------------------------------------------

@import defaults
@import compass/layout/sticky-footer
@import compass/typography/lists/inline-list
@import compass/typography/lists/inline-block-list
@import compass/typography/text/ellipsis

nav.actions > ul
  +delimited-list(" | ")

#page
  +container
  //+show-grid('grid.png')
  // --> show-grid loads a 64+16x24 grid image by default
  // For other grid settings, run `compass grid-img 30+10x20`
  // Where 30 is the column width, 10 is the gutter width,
  // and 20 is the (optional) line-height.

  & > nav
    +full
    & > ul
      +inline-block-list-container
      +display-box
      +box-lines('multiple')
      width: 100%
      & > li
        +inline-block-list-item
        display: block
        +adjust-font-size-to(20px, 2)
        +box-flex(1)
        text-align: center
        //&:last-child
          text-align: right
        & > a
          color: $yellow
          display: block
          height: 100%
          width: 100%
          text-decoration: underline overline
          &:hover
            text-decoration: underline overline line-through
        &.current
          color: $orange
          text-decoration: underline overline
          & > a
            +text-shadow
            color: $orange

        & > ul#account
          +no-bullets
          +adjust-font-size-to(13px, 0.7)

  & > header
    background-color: $blue
    +background(linear-gradient(rgba(lighten($blue, 15%), 0.9), rgba($blue, 0.9)), image-url('http://s3.amazonaws.com/pcmag/clouds.png'))
    +full
    +box-shadow($lgray 0 0 3px inset)
    width: 100%
    background-color: $blue
    text-align: center
    +opacity(0.9)
    +border-radius(20px 0)
    margin:
      left: 0
      right: 0
    h1
      +adjust-font-size-to(31px)
      +trailer(0, 21px)


  & > #notice
    +full
    text-align: center
    +trailer(1)
    +horizontal-borders(1px, 0)

  & > article
    +columns($article)
    +alpha
    &.full-width
      +columns($total-cols)

  & > section.sidebar
    +columns($sidebar)
    +omega

  & > #page-footer
    +full

body > footer
  +container
  & > #footer
    background-color: $green
    +background(linear-gradient(rgba(lighten($green, 5%), 0.9), rgba(darken($green, 10%), 0.9)), image-url('http://s3.amazonaws.com/pcmag/grass.jpg'))
    +full
    +box-shadow($lgray 0 0 3px inset)
    +opacity(0.92)
    +adjust-font-size-to(14px, 3)
    +border-radius(0 20px)
    text-align: center
    margin:
      left: 0
      right: 0
    a
      +links(yellow)

+sticky-footer($base-rhythm-unit * 4, '#page', '#page-footer', 'body > footer')

@media screen and (max-width: 600px)
  #page
    & > article, & > section.sidebar
      +full
      width: auto

/* Individual pages ---------------------------------

section.user-profile
  h2
    +trailer(0)
  ul
    +no-bullets
    margin-left: 0

li.submission, li.packlet, section.submission
  +no-bullet
  +full
  +rhythm-borders(1px, 1, $base-font-size, dashed)
  +padding-trailer(0)
  border-color: $lgray
  +leader
  +trailer
  ul
    list-style-type: disc
  ul, ol
    +trailer
    ul, ol
      +trailer(0)
  & > header h2
    min-height: $base-line-height

footer.submission-details
  +leader
  +trailer
  p, span
    +trailer(0)
    +grayed-out
  p.author
    a:last-child
      +inline-block
      width: 85%
    a:first-child
      display: inline

span.drag-handle-wrap
  display: none
li.submission > input[type=checkbox]
  display: none

article.pages ol.submissions li.submission
  position: relative
  span.drag-handle-wrap
    display: block
    position: absolute
    top: 0
    right: 2px
    height: 100%
    width: 21em
    border: dashed $lgray
    border-width: 0 1px 0 0
    +border-radius(50px)
    span.drag-handle
      display: block
      text-indent: -1000em
      height: 100%
      position: absolute
      top: 0
      right: -2px
      width: 1.5em
      cursor: move

article#submissions, article.meetings
  section
    & > header > h2
      +trailer(0)
    +full
    +trailer
    +clearfix
.drop-here
  +rhythm-borders(1px, 0, $base-font-size, dashed)
  border-color: $noticeable

article.people ul.submissions
  margin-left: 0

ol.packlets, ul.submissions, ol.submissions
  li.collapsed
    &.packlet
      list-style-type: decimal
    &.submission
      list-style-type: disc
    &.submission, &.packlet
      +rhythm-borders(0px, 0)
      +leader(0)
      +trailer(0)
      & > header
        +inline-block
        width: 60%
        h2
          +trailer(0)
      & > div.body
        display: none
      & > span.drag-handle-wrap
        +drag-handle
      & > input[type=checkbox]
        +inline-block
      & > footer
        +inline-block
        width: 35%
        +trailer(0)
        +leader(0)
        & > span.score
          & > form.score
            display: inline
        & > nav.actions
          display: none
        & > p.scored
          display: inline
article.magazines ol.submissions li.collapsed.submission
  list-style-type: decimal
  & > footer
    p.scored
      display: none

section#magazines
  ul.magazines
    +no-bullets
    margin: 0
    li
      background-color: $yellow
      +background(linear-gradient(lighten($lyellow, 15%), $lyellow))
      +rhythm-borders
      padding:
        top: 0
        bottom: 0
      +border-radius(20px)
      +trailer
      border-color: $lgray
      color: $mgray
      header
        p
          border-bottom: 1px dashed $lgray
          +trailer(0)
      &:hover
        color: $base
        border-color: $base
      &:active
        color: $base
        border-color: $base
        +box-shadow($dgray 0 0 5px inset)
        p
          border-color: $orange
    a.selected
      cursor: default
      li
        border-color: $base
        color: $base
        header
          h3
            border-bottom: 1px solid $orange
            +trailer(0)
        +box-shadow($lgray 0 0 10px 0)

span.score
  form.button_to
    +adjust-font-size-to(9px)
    line-height: 1em
    input[type=submit]
      vertical-align: top
  form.score
    display: inline
    div
      display: inline
      label
        &:after
          content: ": "
        font-weight: normal
        display: inline

input[type=number]
  +trailer(0)
  text-align: center
  width: 2.7em
  height: $base-line-height / 16px * 1em
  font-size: 13px
  +rhythm-borders(1px, 0.05, 13px)

html.no-number-input input[type=number]
  width: 1.7em
  &::-webkit-outer-spin-button, &::-webkit-inner-spin-button
    -webkit-appearance: none
    margin: 0

section#scores
  +full
  +leader
  ol#packlet_titles
    +alpha
    +columns(2)
    +trailer
    list-style-position: inside
    li.title
      max-height: $base-line-height
      a
        +inline-block
        vertical-align: inherit
        min-height: $base-font-size
        width: 70%
        +ellipsis

  .scores
    +columns(1)
    +trailer
    &:last
      +omega

ul.attendees
  li.attendee
    +full
    span
      +inline-block
    span.person
      width: $sidebar * $col-width
    span.answer
      width: ($article - 2) * $col-width
      padding-left: 0.5em
      +border-radius
      min-height: $base-line-height
    nav.actions
      display: inline
form.attendee
  +full
  +leader

article#submit-something
  textarea#submission_body
    height: $base-line-height / 14px * 18em
  textarea#submission_title
    height: $base-line-height / 14px * 1.5em
  .trigger
    height: 5px

ol.magazines
  +full
  margin-left: 0
  & > li.magazine
    +full
    +clearfix
    +trailer
    margin-left: 0
    list-style-image: none
    list-style-type: none
    & > header
      +full
      +clearfix
      h2
        +alpha
        +columns(10)
        +trailer(0)
      span.timeframe
        +columns(4)
        text-align: right
      nav.actions
        +columns(2)
        +omega
    & > dl.meetings
      +full
      margin-left: 1em
      +trailer(0)
      dd
        padding-left: 0
    & > a
      +full
      margin-left: 1em
      display: block
ol.meetings, ul.meetings
  +full
  list-style-position: inside
  li.meeting
    +full
    header
      +inline-block
      width: 68%
      padding-left: 0.1em
      & > .drag-handle-wrap
        +drag-handle
    footer
      +inline-block
      width: 25%
      float: right
      padding-left: .885%
      time
        +inline-block
        width: 51.5%
        text-align: right
        margin-right: 0.3em
      nav.actions
        +inline-block
        width: 44%

ul#people
  +no-bullets
  margin-left: 0
  li.person
    +full
    span.name
      +columns(4)
      +alpha
    span.rank
      +columns(3)
      margin-right: 0
    span.promote-to
      +columns(6.5)
      & > ul
        +delimited-list
    span.actions
      +columns(2.5)
      +omega

form#highest
  & *
    +inline-block
    font-weight: normal
    margin: 0
  input[type=number]
    margin-left: 0.3em
    width: 4em
  +trailer
form#publish ol
  +trailer(0)

/*
 *   Odds & Ends
 ********************************/

#your_name_looks_like
  display: none

span.average-score
  +inline-block
  width: 1px
  height: 16px
  border-left: 1px solid $lgray
  margin-left: -50px
  vertical-align: -0.2em

/*
 * Pagination
 ********************************/

nav.pagination
  float: right
  ol.pages
    +inline-list
    li.page
      +adjust-font-size-to(24px, 1)
      & > a
        +adjust-font-size-to(10px)
  &:first-child
    position: relative
    top: -2 * $base-line-height
    height: 0
